(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{217:function(n,e,t){n.exports=t(413)},280:function(n,e,t){},413:function(n,e,t){"use strict";t.r(e);var a,r,i,c=t(0),o=t.n(c),l=t(13),u=t.n(l),s=t(33),f=t(17),p=t(20),d=t(197),m=t(198),h=t(25),b=t(101),x=function(n,e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,a=arguments.length>1?arguments[1]:void 0,r=a.type,i=a.payload,c=e[r];return c?c(t,i):t}},g=x([],(a={},Object(h.a)(a,"LOAD_TICKETS",function(n,e){return e.tickets}),Object(h.a)(a,"CREATE_TICKET",function(n,e){return[].concat(Object(b.a)(n.filter(function(n){return n._id!==e.ticket})),[Object.assign({},e.ticket)])}),Object(h.a)(a,"UPDATE_TICKET",function(n,e){return[].concat(Object(b.a)(n.filter(function(n){return n._id!==e.ticket._id})),[e.ticket])}),Object(h.a)(a,"DELETE_TICKET",function(n,e){return Object(b.a)(n.filter(function(n){return n._id!==e.ticketId}))}),a)),O=t(416),v=t(38),j=x({currentUser:null},(r={},Object(h.a)(r,"LOGIN_USER",function(n,e){return Object(v.a)({},n,{authenticated:!0,currentUser:e.values.email,isErr:!1})}),Object(h.a)(r,"LOGIN_ERROR",function(n,e){return Object(v.a)({},n,{authenticated:!1,currentUser:null,isErr:!0})}),Object(h.a)(r,"SIGN_OUT_USER",function(n,e){return Object(v.a)({},n,{authenticated:!1,currentUser:null,isErr:!1})}),r)),y=x({loading:!1},(i={},Object(h.a)(i,"ASYNC_ACTION_START",function(n){return Object(v.a)({},n,{loading:!0})}),Object(h.a)(i,"ASYNC_ACTION_FINISH",function(n){return Object(v.a)({},n,{loading:!1})}),Object(h.a)(i,"ASYNC_ACTION_ERROR",function(n){return Object(v.a)({},n,{loading:!1})}),i)),E=x([],Object(h.a)({},"LOAD_HALLS",function(n,e){return e.halls})),w=Object(p.combineReducers)({tickets:g,form:O.a,auth:j,async:y,halls:E}),k=function(){try{var n=localStorage.getItem("state");if(null===n)return;return JSON.parse(n)}catch(e){return}}(),C=t(29),T=Object(C.a)(),S=(t(280),t(9)),I=t(8),_=t(11),D=t(10),A=t(12),Y=t(46),R=t(2),M=t(3);function N(){var n=Object(R.a)(["\n  color: #000000;\n  font-size: 20px;\n  text-align: center;\n"]);return N=function(){return n},n}function z(){var n=Object(R.a)(["\n  flex: 1 0 auto;\n  min-width: 350px;\n  margin: 20px 10px;\n"]);return z=function(){return n},n}var L=M.a.div(z()),U=M.a.p(N()),F=t(28),H=t.n(F);function K(){var n=Object(R.a)(["\n  @media (max-width: 414px) {\n    width: 100%;\n  }\n"]);return K=function(){return n},n}function P(){var n=Object(R.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n  &:hover{\n    align-items: center;\n    cursor: pointer;\n    height: 100%;\n  }\n  @media (max-width: 414px) {\n    width: 100%;\n  }\n"]);return P=function(){return n},n}function B(){var n=Object(R.a)(["\n  display: none;\n  @media (max-width: 414px) {\n    &:checked ~ "," + ","{\n      max-height: 1000px;\n      display: flex;\n      justify-content: flex-start;\n    }\n    &:checked ~ "," {\n      ",":nth-child(1){\n        left: 3px;\n        transform: translateY(12px) rotate(-45deg);\n      }\n      ",":nth-child(3){\n        left: 3px;\n        transform: translateY(-8px) rotate(45deg);\n      }\n      ",":nth-child(2){\n        opacity: 0;\n      }\n    }\n  }\n"]);return B=function(){return n},n}function G(){var n=Object(R.a)(["\n  display: none; \n  cursor: pointer;\n  @media (max-width: 414px){\n    display: block;\n    position: absolute;\n    top: 26px;\n    right: 3px;\n    transform: translate(-50%,-50%);\n    width: 30px;\n    height: 30px;\n    cursor: pointer;\n    transition: .5s;\n    outline: none;\n    &:hover{\n      border: none;\n    }\n  }\n"]);return G=function(){return n},n}function J(){var n=Object(R.a)(["\n  position: relative;\n  height: 4px;\n  width: 25px;\n  top: -2px;\n  right: -13px;\n  background-color: #ffffff;\n  display: block;\n  margin: 6px 0;\n  transition: .5s;\n  transform: translate(-50%,-50%);\n"]);return J=function(){return n},n}function q(){var n=Object(R.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n  @media (max-width: 414px) {\n     > "," {\n    max-height: 0;\n    }\n  }\n"]);return q=function(){return n},n}function W(){var n=Object(R.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  @media(max-width: 414px) {\n    list-style:none;\n    padding: 0;\n    height: 100%;\n    overflow: hidden;\n    transition: max-height 0.5s linear 0s;\n  }\n"]);return W=function(){return n},n}function $(){var n=Object(R.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  color: #ffffff;\n  font-family: 'Niconne', cursive;\n  font-weight: 400; \n  font-size: 40px;\n"]);return $=function(){return n},n}function X(){var n=Object(R.a)(['\n  text-decoration: none;\n  color: #ffffff;\n  font: normal 20px/2 "varela-round", Helvetica, sans-serif;\n  text-align: center;\n  text-overflow: ellipsis;\n  text-shadow: 1px 1px 1px rgba(0,0,0,0.2) ;\n  margin: 10px 10px;\n  :hover {\n    -webkit-transform: scale(1.2);\n    -ms-transform: scale(1.2);\n    transform: scale(1.2);\n  }\n']);return X=function(){return n},n}function V(){var n=Object(R.a)(["\n  min-width: 350px;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n  @media(max-width: 414px) {\n    align-items: flex-start;\n    flex-direction: column;\n  }\n"]);return V=function(){return n},n}function Q(){var n=Object(R.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(27,134,200,1) 35%, rgba(0,212,255,1) 100%);\n  min-height: 100px;\n  padding: 0 20px;\n"]);return Q=function(){return n},n}var Z=M.a.div(Q()),nn=M.a.div(V()),en=Object(M.a)(s.b)(X()),tn=M.a.div($()),an=M.a.ul(W()),rn=M.a.div(q(),an),cn=M.a.span(J()),on=M.a.label(G()),ln=M.a.input(B(),on,an,on,cn,cn,cn),un=M.a.li(P()),sn=en.withComponent("span"),fn=Object(M.a)(rn)(K()),pn=function(n){function e(){return Object(S.a)(this,e),Object(_.a)(this,Object(D.a)(e).apply(this,arguments))}return Object(A.a)(e,n),Object(I.a)(e,[{key:"render",value:function(){var n=this.props,e=n.handleSignOut,t=n.auth,a=t.currentUser,r=t.authenticated;return o.a.createElement(Z,null,o.a.createElement(nn,null,o.a.createElement(tn,null,"Rooms"),o.a.createElement(rn,null,o.a.createElement(ln,{type:"checkbox",name:"menu",id:"btn-menu"}),o.a.createElement(on,{htmlFor:"btn-menu"},o.a.createElement(cn,null),o.a.createElement(cn,null),o.a.createElement(cn,null)),o.a.createElement(an,null,o.a.createElement(un,null,o.a.createElement(en,{to:"/"},"Home")),o.a.createElement(un,null,o.a.createElement(en,{to:"/charts"},"Charts")),r&&o.a.createElement(fn,null,o.a.createElement(sn,{style:{marginLeft:"18px"}},a),o.a.createElement(un,null,o.a.createElement(en,{to:"/",onClick:e},"Sign Out"))),!r&&o.a.createElement(fn,null,o.a.createElement(un,null,o.a.createElement(en,{to:"/register"},"Sign Up")),o.a.createElement(un,null,o.a.createElement(en,{to:"/login"},"Sign In")))))))}}]),e}(c.Component),dn=Object(f.b)(function(n){return{auth:n.auth}})(pn),mn=function(n){function e(){return Object(S.a)(this,e),Object(_.a)(this,Object(D.a)(e).apply(this,arguments))}return Object(A.a)(e,n),Object(I.a)(e,[{key:"render",value:function(){var n=this.props.handleSignOut;return o.a.createElement(dn,{handleSignOut:n})}}]),e}(c.Component),hn={bgColor:"#ADD8E6",color:"#000000"};function bn(){var n=Object(R.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return bn=function(){return n},n}function xn(){var n=Object(R.a)(["\n  display: block;\n  height: 100%;\n  width: 100%;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n  vertical-align: middle;\n  transition: all 0.5s ease-in-out;\n    :hover {\n    -webkit-transform: scale(1.05);\n    -ms-transform: scale(1.05);\n    transform: scale(1.05);\n  }\n"]);return xn=function(){return n},n}function gn(){var n=Object(R.a)(["\n  height: 100%;\n  max-height: 175px;\n  min-height: 175px;\n  overflow: hidden;\n  transition: all 0.2s ease-in-out;\n  position: relative;\n"]);return gn=function(){return n},n}function On(){var n=Object(R.a)(["\n  color: #ffffff;\n  font-size: 20px;\n  text-align: center;\n"]);return On=function(){return n},n}function vn(){var n=Object(R.a)(["\n  padding: 5px 20px;\n  font-size: 10px;\n  line-height: 20px;\n"]);return vn=function(){return n},n}function jn(){var n=Object(R.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 10px 20px;\n  color: #ffffff;\n  font-size: 20px;\n"]);return jn=function(){return n},n}function yn(){var n=Object(R.a)(["\n  width: 60%;\n  margin: 0 8px 28px 8px;\n  min-height: 280px;\n  max-height: 500px\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  justify-content: flex-start;\n  text-align: center;\n  box-shadow: rgba(0,0,0,0.2) 0 0 9px 4px;\n  border-radius: 5px;\n  background: ",";\n  overflow: hidden;\n  transition: all 0.7s ease-in-out;\n  text-decoration: none;\n  @media(max-width: 450px) {\n    width: 100%;\n  }\n"]);return yn=function(){return n},n}function En(){var n=Object(R.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  width: 70%;\n  margin: 0 auto;\n  @media(max-width: 450px) {\n    width: 100%;\n  }\n"]);return En=function(){return n},n}function wn(){var n=Object(R.a)(["\n  width: 100%;\n  padding-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return wn=function(){return n},n}var kn=M.a.div(wn()),Cn=M.a.div(En()),Tn=Object(M.a)(s.b)(yn(),hn.bgColor),Sn=M.a.p(jn()),In=Object(M.a)(Sn)(vn()),_n=M.a.p(On()),Dn=M.a.div(gn()),An=M.a.img(xn()),Yn=M.a.div(bn()),Rn=function(n){function e(){return Object(S.a)(this,e),Object(_.a)(this,Object(D.a)(e).apply(this,arguments))}return Object(A.a)(e,n),Object(I.a)(e,[{key:"render",value:function(){var n=this.props.selectedOption;return o.a.createElement(kn,null,o.a.createElement(Cn,null,n&&n.map(function(n,e){return o.a.createElement(Tn,{to:"/calendar/".concat(n.value),key:e,room:n},o.a.createElement(Dn,null,o.a.createElement(An,{style:{background:"url(".concat(n.imageUrl,")no-repeat center/cover")}})),o.a.createElement(Sn,null,n.label),o.a.createElement(In,null,n.description))})))}}]),e}(c.Component);function Mn(){var n=Object(R.a)(["\n  color: #ffffff;\n  padding-top: 20px;\n"]);return Mn=function(){return n},n}function Nn(){var n=Object(R.a)(["\n  display: flex;\n  flex-direction: column;\n  justify: content: center;\n  align-items: center;\n"]);return Nn=function(){return n},n}function zn(){var n=Object(R.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 50;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return zn=function(){return n},n}var Ln=M.a.div(zn()),Un=M.a.div(Nn()),Fn=M.a.span(Mn()),Hn=t(202),Kn=t.n(Hn),Pn=function(){return o.a.createElement(Ln,null,o.a.createElement(Un,null,o.a.createElement(Kn.a,{type:"Oval",color:"#ffffff",height:40,width:40}),o.a.createElement(Fn,null,"Loading...")))},Bn=t(203),Gn=function(n){function e(){return Object(S.a)(this,e),Object(_.a)(this,Object(D.a)(e).apply(this,arguments))}return Object(A.a)(e,n),Object(I.a)(e,[{key:"render",value:function(){var n=this.props,e=n.halls,t=n.handleChange,a=n.clearable,r=n.selectedOption,i=e.map(function(n){return{value:n._id,label:n.title,description:n.description,imageUrl:n.imageURL}});return o.a.createElement(Bn.a,{isMulti:!0,name:"category",value:r,onChange:t,clearable:a,options:i,labelKey:"title",valueKey:"title"})}}]),e}(c.Component),Jn=Object(f.b)(function(n){return{halls:n.halls}})(Gn),qn=function(n){function e(){var n,t;Object(S.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(_.a)(this,(n=Object(D.a)(e)).call.apply(n,[this].concat(r)))).state={isError:!1,selectedOption:null,clearable:!0},t.handleChange=function(n){t.setState({selectedOption:n})},t}return Object(A.a)(e,n),Object(I.a)(e,[{key:"componentDidMount",value:function(){localStorage.getItem("user")&&(H.a.defaults.headers.common.Authorization=localStorage.getItem("token"))}},{key:"render",value:function(){var n=this.state,e=n.isError,t=n.selectedOption,a=n.clearable;return this.props.loading?o.a.createElement(Pn,null):o.a.createElement(c.Fragment,null,!e&&o.a.createElement(Yn,null,o.a.createElement(Jn,{selectedOption:t,clearable:a,handleChange:this.handleChange}),o.a.createElement(Rn,{selectedOption:t})),e&&o.a.createElement(_n,null,"Error!!!"))}}]),e}(c.Component),Wn=Object(Y.f)(Object(f.b)(function(n){return{loading:n.async.loading}})(qn));function $n(){var n=Object(R.a)(["\n  flex-wrap: nowrap;\n  padding: 10px 20px;\n  @media(max-width: 850px) {\n    justify-content: space-between;\n    align-items: center;\n    flex-direction: row;\n    margin: 0;\n  }\n  @media(max-width: 450px) {\n    justify-content: space-between;\n    align-items: center;\n    flex-direction: row;\n    margin: 0;\n  }\n"]);return $n=function(){return n},n}function Xn(){var n=Object(R.a)(["\n  font-size: 16px;\n  padding: 10px 20px;\n  color: #00CED1;\n  @media(max-width: 450px) {\n    padding: 0;\n  }\n"]);return Xn=function(){return n},n}function Vn(){var n=Object(R.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n"]);return Vn=function(){return n},n}function Qn(){var n=Object(R.a)(["\n  color: #000000;\n  font-size: 15px;\n  text-align: center;\n"]);return Qn=function(){return n},n}function Zn(){var n=Object(R.a)(["\n  background-color: initial;\n  @media(max-width: 850px) {\n    margin-bottom: 15px;\n  }\n  @media(max-width: 450px) {\n    margin-bottom: 15px;\n  }\n"]);return Zn=function(){return n},n}function ne(){var n=Object(R.a)(["\n  justify-content: center;\n  display: flex\n  background-color: #00CED1;\n  color: #ffffff;\n  border-radius: 5px;\n  border: none;\n  padding: 7px 25px;\n  max-width: 100px;\n  max-height: 35px;\n  font-size: 20px;\n  outline: none;\n"]);return ne=function(){return n},n}function ee(){var n=Object(R.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 20px;\n  @media(max-width: 850px) {\n    flex-direction: column;\n    justify-content: center;\n  }\n  @media(max-width: 450px) {\n    flex-direction: column;\n    justify-content: center;\n  }\n"]);return ee=function(){return n},n}function te(){var n=Object(R.a)(["\n  max-width: 950px;\n  min-width: 350px;\n  margin: 0 auto;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  justify-content: space-between;\n  padding-top: 40px;\n"]);return te=function(){return n},n}function ae(){var n=Object(R.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 5px 20px;\n  color: #00CED1;\n  font-size: 30px;\n"]);return ae=function(){return n},n}var re=M.a.p(ae()),ie=M.a.div(te()),ce=M.a.div(ee()),oe=M.a.button(ne()),le=Object(M.a)(oe)(Zn()),ue=M.a.p(Qn()),se=M.a.div(Vn()),fe=M.a.p(Xn()),pe=Object(M.a)(ce)($n()),de=o.a.createElement("svg",{id:"Capa_1",x:"0px",y:"0px",width:"30px",height:"30px",viewBox:"0 0 612 612",style:{enableBackground:"new 0 0 612 612"},xmlSpace:"preserve",fill:"#00CED1"},o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("path",{d:"M561,76.5H178.5c-17.85,0-30.6,7.65-40.8,22.95L0,306l137.7,206.55c10.2,12.75,22.95,22.95,40.8,22.95H561  c28.05,0,51-22.95,51-51v-357C612,99.45,589.05,76.5,561,76.5z M484.5,397.8l-35.7,35.7L357,341.7l-91.8,91.8l-35.7-35.7    l91.8-91.8l-91.8-91.8l35.7-35.7l91.8,91.8l91.8-91.8l35.7,35.7L392.7,306L484.5,397.8z"}))),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null),o.a.createElement("g",null)),me=t(138),he=t(214),be=t.n(he),xe=(t(403),t(27)),ge=t.n(xe),Oe=(t(404),be()(me.a)),ve=me.a.momentLocalizer(ge.a),je=function(n){function e(){return Object(S.a)(this,e),Object(_.a)(this,Object(D.a)(e).apply(this,arguments))}return Object(A.a)(e,n),Object(I.a)(e,[{key:"render",value:function(){var n=this.props,e=n.fetchTickets,t=n.deleteTicket,a=n.handleCreateTicket,r=n.closeCalendar,i=n.resizeTicket,l=n.isError,u=localStorage.getItem("userId");return o.a.createElement(c.Fragment,null,!l&&o.a.createElement(ie,null,o.a.createElement(re,null,"Choose Your Date"),o.a.createElement(Oe,{localizer:ve,events:e,defaultView:"month",titleAccessor:"title",defaultDate:new Date,onEventResize:function(n){return i(n)},onEventDrop:function(n){return i(n)},onSelectSlot:function(n){return a(n)},resizable:!0,selectable:!0,popup:!0}),o.a.createElement(ce,null,o.a.createElement(oe,{onClick:r},"Back"),o.a.createElement(se,null,e&&e.filter(function(n){return n.user_id===u}).map(function(n,e){return o.a.createElement(pe,{key:e},o.a.createElement(fe,null,ge()(n.start).format("DD/MM/YY hh:mm:ss")," -",ge()(n.end).format("DD/MM/YY hh:mm:ss")),o.a.createElement(le,{onClick:function(){return t(n._id)}},de))})))),l&&o.a.createElement(ue,null,"Error!!!"))}}]),e}(c.Component),ye=t(49),Ee=t.n(ye),we=t(35),ke=t.n(we),Ce=t(48);H.a.interceptors.response.use(function(n){return n.data?n.data:n},function(n){var e=n.response;return console.log("Request error! Status: ".concat(e.status,",\n    message: ").concat("string"===typeof e.data?e.data:JSON.stringify(e.data),",\n    from: ").concat(n.config.url,",\n    method: ").concat(n.config.method)),503===e.status?alert("Error\nSomething went wrong\nPlease try again later"):Promise.reject(e)});var Te="https://web-ninjas.net/",Se={signIn:function(n,e){return H.a.post("".concat(Te,"signIn"),{email:n,password:e})},signUp:function(n,e){return H.a.post("".concat(Te,"signUp"),{email:n,password:e})},getHalls:function(){return H.a.get("".concat(Te,"halls"))},getTickets:function(){return H.a.get("".concat(Te,"tickets"))},addTicket:function(n){return H.a.post("".concat(Te,"tickets"),n)},changeTicket:function(n,e){return H.a.put("".concat(Te,"ticket/").concat(n),e)},deleteTicket:function(n){return H.a.delete("".concat(Te,"tickets/").concat(n))},getTimeTicket:function(n,e){return H.a.get("".concat(Te,"ticketsparams/").concat(n,"/").concat(e))}},Ie=function(n){return{type:"LOAD_TICKETS",payload:{tickets:n}}},_e={deleteTicket:function(n){return function(e){Se.deleteTicket(n).then(function(){e(function(n){return{type:"DELETE_TICKET",payload:{ticketId:n}}}(n))})}},createTicket:function(n){return function(e){Se.addTicket(n).then(function(n){e({type:"CREATE_TICKET",payload:{ticket:n}})}).catch(function(n){return 400!==n.status||(Ee()({title:"Not you order!",icon:"warning"}),!1)})}},updateTicket:function(n,e){return function(t){Se.changeTicket(n,e).then(function(n){t({type:"UPDATE_TICKET",payload:{ticket:n[0]}})})}}},De=function(n){function e(){var n,t;Object(S.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(_.a)(this,(n=Object(D.a)(e)).call.apply(n,[this].concat(r)))).state={isError:!1},t.closeCalendar=function(){t.props.history.goBack()},t.isCanEdit=function(n){var e=localStorage.getItem("userId");return n.user_id===e||(Ee()({title:"Not you order!",icon:"warning"}),!1)},t.formatTicketDate=function(n){var e=n;return e.start=ge()(n.from).toDate(),e.end=ge()(n.to).toDate(),e},t.isOldDate=function(n){return n<new Date&&(Ee()({title:"Old Date!",icon:"warning"}),!0)},t.handleCreateTicket=function(n){t.isOldDate(n.start)||Ee()("Write something here:",{content:"input"}).then(function(e){Ee()("You typed: ".concat(e));var a=localStorage.getItem("userId"),r={hall_id:t.props.match.params.id,title:e,from:new Date(n.start).getTime(),to:new Date(n.end).getTime(),user_id:a};t.props.createTicket(r)})},t.resizeTicket=function(n){var e=n.event,a=n.start,r=n.end;if(!t.isOldDate(a)&&t.isCanEdit(e)){var i={from:new Date(a).getTime(),to:new Date(r).getTime(),title:e.title||"room is ordered"};return t.props.updateTicket(e._id,i)}},t.deleteTicket=function(n){return t.props.deleteTicket(n)},t}return Object(A.a)(e,n),Object(I.a)(e,[{key:"render",value:function(){var n=this,e=this.state.isError,t=this.props.ticket,a=t&&t.map(function(e){return n.formatTicketDate(e)});return o.a.createElement(c.Fragment,null,o.a.createElement(je,{fetchTickets:a,deleteTicket:this.deleteTicket,handleCreateTicket:this.handleCreateTicket,onEventResize:this.onEventResize,closeCalendar:this.closeCalendar,isError:e,resizeTicket:this.resizeTicket}))}}]),e}(c.Component),Ae=Object(f.b)(function(n,e){var t=e.match.params.id,a={};return t&&n.tickets.length>0&&(a=n.tickets.filter(function(n){return n.hall_id===t})),{ticket:a}},_e)(De);function Ye(){var n=Object(R.a)(["\n  font-family: sans-serif;\n  font-size: 33px;\n  color: #00CED1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 3px;\n"]);return Ye=function(){return n},n}function Re(){var n=Object(R.a)(["\n  padding: 7px 10px;\n"]);return Re=function(){return n},n}function Me(){var n=Object(R.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin: 6px 15px;\n"]);return Me=function(){return n},n}function Ne(){var n=Object(R.a)(["\n  max-width: 430px;\n  max-height: 425px;\n  height: 100%;\n  width: 100%;\n  background: #ffffff;\n  display: flex;\n  flex-direction: column;\n  margin: 20px;\n"]);return Ne=function(){return n},n}function ze(){var n=Object(R.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 50;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return ze=function(){return n},n}var Le=M.a.div(ze()),Ue=M.a.div(Ne()),Fe=M.a.div(Me()),He=M.a.button(Re()),Ke=M.a.h1(Ye());function Pe(){var n=Object(R.a)(["\n  background-color: #00CED1;\n  color: #ffffff;\n  border-radius: 5px;\n  border: none;\n  padding: 7px 25px;\n  max-width: 100px;\n  font-size: 20px;\n"]);return Pe=function(){return n},n}function Be(){var n=Object(R.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-width: 270px;\n  margin: auto;\n"]);return Be=function(){return n},n}function Ge(){var n=Object(R.a)(["\n  display: flex;\n  justify-content: center;\n  color: #FF0000;\n"]);return Ge=function(){return n},n}function Je(){var n=Object(R.a)(['\n  min-height: 35px;\n  width: 65%;\n  padding: 0 15px;\n  border-radius: 4px;\n  background-color: transparent;\n  border: 1px solid hsl(0, 14%, 11%);\n  font: normal 16px/2 "varela-round", Helvetica, sans-serif;\n  color:#311e1e;\n']);return Je=function(){return n},n}function qe(){var n=Object(R.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return qe=function(){return n},n}function We(){var n=Object(R.a)(["\n  flex-direction: column;\n  justify-content: center;\n \n"]);return We=function(){return n},n}function $e(){var n=Object(R.a)(["\n  display: flex;\n  height: 100%;\n"]);return $e=function(){return n},n}var Xe=M.a.div($e()),Ve=Object(M.a)(Xe)(We()),Qe=M.a.form(qe()),Ze=(M.a.input(Je()),M.a.p(Ge())),nt=M.a.div(Be()),et=M.a.button(Pe()),tt=t(415),at=t(414);function rt(){var n=Object(R.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return rt=function(){return n},n}function it(){var n=Object(R.a)(["\n  color: red;\n  marginTop: 5px;\n"]);return it=function(){return n},n}function ct(){var n=Object(R.a)([""]);return ct=function(){return n},n}function ot(){var n=Object(R.a)(["\n  background-color: #00CED1;\n  color: #ffffff;\n  border-radius: 5px;\n  border: none;\n  padding: 7px 25px;\n  max-width: 125px;\n  font-size: 20px;\n"]);return ot=function(){return n},n}function lt(){var n=Object(R.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-width: 270px;\n  margin: auto;\n"]);return lt=function(){return n},n}function ut(){var n=Object(R.a)(["\n  color: #311e1e;\n  font-size: 16px;\n  padding-bottom: 6px;\n"]);return ut=function(){return n},n}function st(){var n=Object(R.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 10px 5px;\n"]);return st=function(){return n},n}function ft(){var n=Object(R.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 100%;\n"]);return ft=function(){return n},n}function pt(){var n=Object(R.a)(["\n  display: flex;\n  height: 100%;\n"]);return pt=function(){return n},n}var dt=M.a.div(pt()),mt=M.a.div(ft()),ht=M.a.div(st()),bt=M.a.label(ut()),xt=M.a.div(lt()),gt=M.a.button(ot()),Ot=M.a.input(ct()),vt=M.a.span(it()),jt=M.a.form(rt()),yt=function(n){var e=n.input,t=n.label,a=n.type,r=n.placeholder,i=n.meta,l=i.touched,u=i.error;return o.a.createElement(c.Fragment,null,o.a.createElement(ht,null,o.a.createElement(bt,null,t),o.a.createElement(Ot,Object.assign({},e,{placeholder:r,type:a}))),l&&u&&o.a.createElement(vt,null,u))},Et=function(n){return function(){var e=Object(Ce.a)(ke.a.mark(function e(t){return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOGIN_USER",payload:{values:n}}),e.prev=1,e.next=4,Se.signIn(n.email,n.password).then(function(e){e&&(localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",e.token),localStorage.setItem("email",n.email),localStorage.setItem("userId",e._id),T.goBack())});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),"Incorrect password or email"===e.t0.data.message&&t({type:"LOGIN_ERROR"});case 10:case 11:case"end":return e.stop()}},e,null,[[1,6]])}));return function(n){return e.apply(this,arguments)}}()},wt={login:Et},kt=function(n){function e(){return Object(S.a)(this,e),Object(_.a)(this,Object(D.a)(e).apply(this,arguments))}return Object(A.a)(e,n),Object(I.a)(e,[{key:"render",value:function(){var n=this.props,e=n.login,t=n.pristine,a=n.handleSubmit,r=n.submitting,i=n.auth.isErr;return o.a.createElement(Xe,null,o.a.createElement(Qe,{onSubmit:a(e)},o.a.createElement(Ve,null,o.a.createElement(tt.a,{name:"email",type:"email",label:"Email:",placeholder:"Email",component:yt}),o.a.createElement(tt.a,{name:"password",type:"password",label:"Password:",placeholder:"Password",component:yt}),i&&o.a.createElement(Ze,null,"Wrong password or email"),o.a.createElement(nt,null,o.a.createElement(et,{type:"submit",disabled:t||r},"Submit")))))}}]),e}(c.Component),Ct=Object(Y.f)(Object(f.b)(function(n){return{auth:n.auth}},wt)(Object(at.a)({form:"signIn",validate:function(n){var e={};return n.email?/^.+@.+$/i.test(n.email)||(e.email="Invalid email address"):e.email="Required",n.password?n.password.length<6&&(e.password="Password should be at least 6 characters long"):e.password="Required",e}})(kt))),Tt=function(n){function e(){return Object(S.a)(this,e),Object(_.a)(this,Object(D.a)(e).apply(this,arguments))}return Object(A.a)(e,n),Object(I.a)(e,[{key:"render",value:function(){var n=this.props.closeModal;return o.a.createElement(Le,null,o.a.createElement(Ue,null,o.a.createElement(Fe,null,o.a.createElement(He,{onClick:n},"X")),o.a.createElement(Ke,null,"Login"),o.a.createElement(Ct,null)))}}]),e}(c.Component),St=function(n){function e(){var n,t;Object(S.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(_.a)(this,(n=Object(D.a)(e)).call.apply(n,[this].concat(r)))).closeModal=function(){t.props.history.goBack()},t}return Object(A.a)(e,n),Object(I.a)(e,[{key:"render",value:function(){return o.a.createElement(Tt,{closeModal:this.closeModal})}}]),e}(o.a.Component);function It(){var n=Object(R.a)(["\n  text-align: center;\n  font-size: 20px;\n  color: #00CED1;\n"]);return It=function(){return n},n}function _t(){var n=Object(R.a)(["\n  font-family: sans-serif;\n  font-size: 33px;\n  color: #00CED1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10px;\n"]);return _t=function(){return n},n}function Dt(){var n=Object(R.a)(["\n  padding: 7px 10px;\n"]);return Dt=function(){return n},n}function At(){var n=Object(R.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin: 6px 15px;\n"]);return At=function(){return n},n}function Yt(){var n=Object(R.a)(["\n  max-width: 430px;\n  max-height: 425px;\n  height: 100%;\n  width: 100%;\n  background: #ffffff;\n  display: flex;\n  flex-direction: column;\n  margin: 0 20px;\n"]);return Yt=function(){return n},n}function Rt(){var n=Object(R.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 50;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Rt=function(){return n},n}var Mt=M.a.div(Rt()),Nt=M.a.div(Yt()),zt=M.a.div(At()),Lt=M.a.button(Dt()),Ut=M.a.h1(_t()),Ft=(M.a.p(It()),{register:function(n){return function(){var e=Object(Ce.a)(ke.a.mark(function e(t){return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REGISTER_USER",payload:{values:n}}),e.prev=1,e.next=4,Se.signUp(n.email,n.password).then(function(n){localStorage.setItem("email",n.email),T.push("/login")});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[1,6]])}));return function(n){return e.apply(this,arguments)}}()}}),Ht=function(n){function e(){return Object(S.a)(this,e),Object(_.a)(this,Object(D.a)(e).apply(this,arguments))}return Object(A.a)(e,n),Object(I.a)(e,[{key:"render",value:function(){var n=this.props,e=n.register,t=n.pristine,a=n.handleSubmit,r=n.submitting;return o.a.createElement(dt,null,o.a.createElement(jt,{onSubmit:a(e)},o.a.createElement(mt,null,o.a.createElement(tt.a,{name:"email",type:"email",label:"Email:",placeholder:"Email",component:yt}),o.a.createElement(tt.a,{name:"password",type:"password",label:"Password:",placeholder:"Password",component:yt}),o.a.createElement(xt,null,o.a.createElement(gt,{type:"submit",disabled:t||r},"Register")))))}}]),e}(c.Component),Kt=Object(f.b)(null,Ft)(Object(at.a)({form:"signUp",validate:function(n){var e={};return n.email?/^.+@.+$/i.test(n.email)||(e.email="Invalid email address"):e.email="Required",n.password?n.password.length<6&&(e.password="Password should be at least 6 characters long"):e.password="Required",e}})(Ht)),Pt=function(n){function e(){return Object(S.a)(this,e),Object(_.a)(this,Object(D.a)(e).apply(this,arguments))}return Object(A.a)(e,n),Object(I.a)(e,[{key:"render",value:function(){var n=this.props.closeModal;return o.a.createElement(Mt,null,o.a.createElement(Nt,null,o.a.createElement(zt,null,o.a.createElement(Lt,{onClick:n},"X")),o.a.createElement(Ut,null,"Register"),o.a.createElement(Kt,null)))}}]),e}(c.Component),Bt=function(n){function e(){var n,t;Object(S.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(_.a)(this,(n=Object(D.a)(e)).call.apply(n,[this].concat(r)))).closeModal=function(){t.props.history.goBack()},t}return Object(A.a)(e,n),Object(I.a)(e,[{key:"render",value:function(){return o.a.createElement(Pt,{closeModal:this.closeModal})}}]),e}(o.a.Component);function Gt(){var n=Object(R.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10px 10px;\n  color: ",";\n  border-radius: 5px;\n  border: 1px solid ",";\n  padding: 10px 10px;\n  outline: none;\n  :hover {\n    -webkit-transform: scale(1.2);\n    -ms-transform: scale(1.2);\n    transform: scale(1.2);\n    background: ",";\n    color: #ffffff;\n  }\n"]);return Gt=function(){return n},n}function Jt(){var n=Object(R.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  @media(max-width: 450px) {\n    flex-direction: column;\n  }\n"]);return Jt=function(){return n},n}function qt(){var n=Object(R.a)(["\n  width: 100%;\n    @media(max-width: 850px) {\n      max-width: 900px;\n      min-width: 380px;\n    }\n    @media(max-width: 450px) {\n      max-width: 380px;\n    }\n"]);return qt=function(){return n},n}function Wt(){var n=Object(R.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  @media(max-width: 450px) {\n    flex-direction: column;\n  }\n"]);return Wt=function(){return n},n}function $t(){var n=Object(R.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  max-width: 900px;\n  margin: 0 auto;\n"]);return $t=function(){return n},n}var Xt=M.a.div($t()),Vt=(M.a.div(Wt()),M.a.div(qt())),Qt=M.a.div(Jt()),Zt=M.a.div(Gt(),hn.bgColor,hn.bgColor,hn.bgColor),na=t(96),ea=t.n(na),ta=function(n){function e(){var n,t;Object(S.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(_.a)(this,(n=Object(D.a)(e)).call.apply(n,[this].concat(r)))).state={isDataReady:!0,monthes:[],options:{chart:{zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:[5,7,5,3],curve:"straight",dashArray:[0,8,5,0]},markers:{size:0,hover:{sizeOffset:6}},grid:{borderColor:"#f1f1f1"},xaxis:{categories:[]}},series:[{name:"series-1",data:[30,40,45,50,49,60,70,91]}]},t.displayChart=function(n){var e=t.props,a=e.halls,r=e.tickets,i=[],c=[];if(r.forEach(function(n){var e=ge()(n.from),t=ge()(n.to);c.indexOf(e.format("YYYY-MM"))<0&&c.push(e.format("YYYY-MM")),c.indexOf(t.format("YYYY-MM"))<0&&c.push(t.format("YYYY-MM"))}),0!==c.length){t.setState({monthes:c}),a.forEach(function(e){var t=r.filter(function(n){return n.hall_id===e._id}).filter(function(e){return ge()(e.from).format("YYYY-MM")===c[n]}),a=[];if(0!==t.length){for(var o=function(n){var e=t.filter(function(e){return ge()(e.from).format("D")==n});e.length>0?a.push(e.length):a.push(0)},l=1;l<ge()(c[n],"YYYY-MM").daysInMonth();l++)o(l);i.push({name:e.title,data:a})}});var o=Array.from(Array(ge()(c[n],"YYYY-MM").daysInMonth()),function(n,e){return String(e)}),l=Object(v.a)({},t.state.options);l.xaxis.categories=o,t.setState({options:l,series:i,isDataReady:!0})}},t}return Object(A.a)(e,n),Object(I.a)(e,[{key:"componentDidMount",value:function(){this.displayChart(0)}},{key:"render",value:function(){var n=this;return o.a.createElement(Xt,null,o.a.createElement(Qt,null,this.state.monthes.map(function(e,t){return o.a.createElement(Zt,{key:e,type:"button",onClick:function(){return n.displayChart(t)}},ge()(e,"YYYY-MM").format("MMMM"))})),o.a.createElement(Vt,null,o.a.createElement("div",{id:"chart"},o.a.createElement(ea.a,{options:this.state.options,series:this.state.series,type:"line",height:"500"}))))}}]),e}(c.Component),aa=Object(f.b)(function(n){return{halls:n.halls,tickets:n.tickets}})(ta),ra=function(n){function e(){var n,t;Object(S.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(_.a)(this,(n=Object(D.a)(e)).call.apply(n,[this].concat(r)))).state={options:{},series:[{data:[]}],isLoading:!1,isDataReady:!1},t.displayChart=function(){var n=t.props,e=n.halls,a=n.tickets,r=[];e.forEach(function(n,e){var t=a.filter(function(e){return e.hall_id===n._id}).length;r[e]=t}),t.setState({options:{chart:{id:e.map(function(n){return n._id})},xaxis:{categories:e.map(function(n){return n.title})}},isLoading:!0,series:[{data:r}],isDataReady:!0})},t}return Object(A.a)(e,n),Object(I.a)(e,[{key:"componentDidMount",value:function(){this.displayChart()}},{key:"render",value:function(){return o.a.createElement(Xt,null,o.a.createElement(Vt,null,o.a.createElement("div",{className:"mixed-chart"},this.state.isDataReady&&o.a.createElement(ea.a,{options:this.state.options,series:this.state.series,type:"bar","max-width":"900px","min-width":"300px"})),o.a.createElement(aa,null)))}}]),e}(c.Component),ia=Object(Y.f)(Object(f.b)(function(n){return{halls:n.halls,tickets:n.tickets}})(ra)),ca=function(n){function e(){return Object(S.a)(this,e),Object(_.a)(this,Object(D.a)(e).apply(this,arguments))}return Object(A.a)(e,n),Object(I.a)(e,[{key:"componentDidUpdate",value:function(n){this.props.location!==n.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),e}(c.Component),oa=Object(Y.f)(ca),la=function(n){return{type:"LOAD_HALLS",payload:n}},ua={logout:function(){return{type:"SIGN_OUT_USER"}},login:Et,loadAllHalls:function(){return function(){var n=Object(Ce.a)(ke.a.mark(function n(e){return ke.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:"ASYNC_ACTION_START"}),n.next=4,Se.getHalls().then(function(n){e(la(n))});case 4:e({type:"ASYNC_ACTION_FINISH"}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),e({type:"ASYNC_ACTION_ERROR"});case 11:case"end":return n.stop()}},n,null,[[0,7]])}));return function(e){return n.apply(this,arguments)}}()},loadAllTickets:function(){return function(){var n=Object(Ce.a)(ke.a.mark(function n(e){return ke.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:"ASYNC_ACTION_START"}),n.next=4,Se.getTickets().then(function(n){e(Ie(n))});case 4:e({type:"ASYNC_ACTION_FINISH"}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e({type:"ASYNC_ACTION_ERROR"});case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return function(e){return n.apply(this,arguments)}}()}},sa=function(n){function e(){var n,t;Object(S.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(_.a)(this,(n=Object(D.a)(e)).call.apply(n,[this].concat(r)))).state={isError:!1},t.handleSignOut=function(){t.props.logout(),localStorage.clear()},t}return Object(A.a)(e,n),Object(I.a)(e,[{key:"componentDidMount",value:function(){localStorage.getItem("user")&&(H.a.defaults.headers.common.Authorization=localStorage.getItem("token"),this.props.loadAllHalls(),this.props.loadAllTickets())}},{key:"render",value:function(){var n=this.state.isError,e=this.props.auth.authenticated;return console.log("App",e),o.a.createElement(c.Fragment,null,o.a.createElement(oa,null,o.a.createElement(c.Fragment,null,o.a.createElement(mn,{handleSignOut:this.handleSignOut}),!n&&o.a.createElement(L,{className:"main"},o.a.createElement(Y.c,null,e?o.a.createElement(c.Fragment,null,o.a.createElement(Y.a,{exact:!0,path:"/calendar/:id",render:function(n){return o.a.createElement(Ae,n)}}),o.a.createElement(Y.a,{exact:!0,path:"/",render:function(n){return o.a.createElement(Wn,n)}}),o.a.createElement(Y.a,{exact:!0,path:"/charts",render:function(n){return o.a.createElement(ia,n)}})):o.a.createElement(c.Fragment,null,o.a.createElement(Y.a,{exact:!0,path:"/login",render:function(n){return o.a.createElement(St,n)}}),o.a.createElement(Y.a,{path:"/register",render:function(n){return o.a.createElement(Bt,n)}})))))),n&&o.a.createElement(U,null,"Error!!!"))}}]),e}(c.Component),fa=Object(f.b)(function(n){return{auth:n.auth}},ua)(sa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pa=function(){var n=[d.a],e=[p.applyMiddleware.apply(void 0,n)],t=m.composeWithDevTools.apply(void 0,e),a=Object(p.createStore)(w,k,t);return a.subscribe(function(){return function(n){try{var e=JSON.stringify(n);localStorage.setItem("state",e)}catch(t){console.log(t)}}(a.getState())}),a}();u.a.render(o.a.createElement(f.a,{store:pa},o.a.createElement(s.a,{basename:"/",history:T},o.a.createElement(fa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[217,1,2]]]);
//# sourceMappingURL=main.d581b85e.chunk.js.map